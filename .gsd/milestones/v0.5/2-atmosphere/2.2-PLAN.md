---
phase: 2-atmosphere
plan: 2
wave: 1
---

# Plan 2.2: Sound Effects Integration

## Objective
Generate retro SFX assets and wire them to game events. Footsteps, attacks, and enemy sounds become audible feedback for player actions.

## Context
- .gsd/phases/2-atmosphere/2.1-PLAN.md (prerequisite)
- src/store/gameStore.ts
- src/audio/SoundManager.ts

## Tasks

<task type="auto">
  <name>Generate SFX assets with jsfxr</name>
  <files>public/audio/sfx/*.mp3</files>
  <action>
    Create retro-style sound effects:
    1. footstep_1.mp3, footstep_2.mp3, footstep_3.mp3 - stone echoing footsteps
    2. attack_fist.mp3 - punch woosh
    3. attack_sword.mp3 - sword swing  
    4. attack_hit.mp3 - impact sound
    5. enemy_growl.mp3 - guttural monster alert
    6. enemy_death.mp3 - death scream
    7. player_hurt.mp3 - grunt/pain
    8. item_pickup.mp3 - chime
    
    Use jsfxr (https://sfxr.me/) or similar web tool
    Export as MP3, heavy reverb on footsteps
    
    NOTE: All sounds should feel "too loud" relative to music
  </action>
  <verify>ls public/audio/sfx/</verify>
  <done>8+ SFX files exist in public/audio/sfx/</done>
</task>

<task type="auto">
  <name>Load SFX in SoundManager</name>
  <files>src/audio/SoundManager.ts</files>
  <action>
    Update SoundManager to:
    1. Create Howl instances for each SFX category
    2. Implement playFootstep() with random 1-3 selection + pitch variation (0.9-1.1)
    3. Implement playAttack(weapon: 'fist' | 'sword')
    4. Implement playEnemySound(type: 'growl' | 'death')
    5. Implement playHurt(), playPickup()
    
    Volume for SFX should be sfxVolume * masterVolume
  </action>
  <verify>Call soundManager.playFootstep() in console, hear sound</verify>
  <done>All SFX methods play corresponding audio files</done>
</task>

<task type="auto">
  <name>Wire game events to SFX</name>
  <files>src/store/gameStore.ts</files>
  <action>
    Import soundManager and add calls:
    
    - moveForward/moveBackward (on successful move): playFootstep()
    - playerAttack: playAttack(equipped weapon type)
    - pickupItem: playPickup()
    - tickGame when damage taken: playHurt()
    - tickGame when enemy killed: playEnemySound('death')
    
    DO NOT add music triggers yet (Plan 2.3)
  </action>
  <verify>Walk in game, hear footsteps on each move</verify>
  <done>Movement and combat produce appropriate sounds</done>
</task>

## Success Criteria
- [ ] SFX assets exist in public/audio/sfx/
- [ ] Walking produces echoing footstep sounds
- [ ] Attacking plays swing/hit sounds
- [ ] Killing enemy plays death sound
