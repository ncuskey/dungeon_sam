---
phase: 1
plan: 2
---

# Plan v0.4.1.2: UX Polish (Combat & Controls)

## Objective
Balance combat pacing and add accessibility shortcuts for items.

## Tasks

<task type="auto">
  <name>Implement Attack Cooldown</name>
  <files>src/store/gameStore.ts, src/components/PlayerController.tsx, src/components/TouchControls.tsx</files>
  <action>
    1. Add `lastAttackTime: number` to `GameState`.
    2. Update `playerAttack` to check `performance.now() - lastAttackTime > 500` (0.5s cooldown).
    3. Ensure `TouchControls` and `PlayerController` both respect this cooldown (or the store handles it).
  </action>
</task>

<task type="auto">
  <name>Keyboard Shortcuts for Healing</name>
  <files>src/components/PlayerController.tsx</files>
  <action>
    1. Add `case 'KeyH'` and `case 'Digit1'` to the keydown handler.
    2. Logic: Find first potion in inventory and call `useItem(potion.id)`.
  </action>
</task>

## Success Criteria
- [ ] Attacks have a noticeable 0.5s cooldown, preventing spamming by holding or rapid tapping.
- [ ] Pressing 'H' or '1' uses a health potion if available.
