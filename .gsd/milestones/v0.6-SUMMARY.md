# Milestone: v0.6 "Interactive Halls & UX"

## Completed: 2026-02-18

## Deliverables
- ✅ **Pause System**: ESC key now toggles a `PAUSED` state with a visual overlay.
- ✅ **Interactive Doors**: Spacebar toggles door states. Doors hinge correctly on wall faces and are perfectly centered.
- ✅ **Platform Detection**: Desktop/Mobile specific UI (relocated sound toggle, hidden touch controls).
- ✅ **Debug Mode**: Implementation of `debugNoEnemies` flag for testing environments.

## Phases Completed
1. **Phase 1: Platform & UI Layout** — 2026-02-18
2. **Phase 2: Game State Control** — 2026-02-18
3. **Phase 3: Interactive Environment** — 2026-02-18
4. **Phase 4: Polish & Integration** — 2026-02-18
5. **Phase 5: Verification & Deployment** — 2026-02-18

## Technical Highlights
- **Axis-Corrected Hinging**: Solved a complex axis-swap issue where door pivots were misplaced in oriented hallways.
- **R3F Pivot Logic**: Used Group-based pivots to separate mesh offsets from rotation logic for predictable door behavior.
- **Atomic State Transitions**: Consolidated movement and map reveal logic into atomic state updates.

## Lessons Learned
- **Coordinate Mismatch**: When walls and doors are rendered separately, tracking their relative coordinate systems (center-based vs. corner-based) is critical to avoid half-cell offsets.
- **Axis Mapping**: 90-degree rotations in 3D space map local axes to different world axes; verifying which axis is transformed is essential for centering.
- **Redundant State Toggles**: Debouncing or carefully scoping interaction handlers prevents "double-toggle" bugs.

## Next Recommendations
- Implement a persistent Debug UI.
- Add lock/key mechanics to doors.
