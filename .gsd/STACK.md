# Technology Stack

> Auto-generated by /map on February 5, 2026

## Runtime

| Technology | Version | Purpose |
|------------|---------|---------|
| Node.js | (via Vite) | Development server and build tooling |
| Browser | ES2020+ | Runtime environment |

## Dependencies

### Production

| Package | Version | Purpose |
|---------|---------|---------|
| `react` | ^18.2.0 | UI framework |
| `react-dom` | ^18.2.0 | React DOM renderer |
| `three` | ^0.160.0 | WebGL 3D rendering engine |
| `@react-three/fiber` | ^8.15.12 | React renderer for Three.js |
| `@react-three/drei` | ^9.96.1 | R3F helper components and utilities |
| `zustand` | ^5.0.11 | Lightweight state management |
| `howler` | ^2.2.4 | Web Audio API wrapper for sound |

**Total Production Dependencies**: 7

### Development

| Package | Version | Purpose |
|---------|---------|---------|
| `typescript` | ^5.2.2 | Type-safe JavaScript |
| `vite` | ^5.0.8 | Build tool and dev server |
| `@vitejs/plugin-react` | ^4.2.1 | Vite plugin for React Fast Refresh |
| `eslint` | ^8.55.0 | Code linting |
| `@typescript-eslint/eslint-plugin` | ^6.14.0 | TypeScript ESLint rules |
| `@typescript-eslint/parser` | ^6.14.0 | TypeScript parser for ESLint |
| `eslint-plugin-react-hooks` | ^4.6.0 | React Hooks linting rules |
| `eslint-plugin-react-refresh` | ^0.4.5 | React Fast Refresh linting |
| `@types/react` | ^18.2.43 | React type definitions |
| `@types/react-dom` | ^18.2.17 | React DOM type definitions |
| `@types/three` | ^0.160.0 | Three.js type definitions |
| `@types/howler` | ^2.2.12 | Howler type definitions |
| `@types/uuid` | ^10.0.0 | UUID type definitions |

**Total Dev Dependencies**: 13

## Infrastructure

| Service | Provider | Purpose |
|---------|----------|---------|
| Static Hosting | DigitalOcean Droplet | Production deployment |
| Domain | dungeonsam.site | Public URL |
| Deployment | `deploy.sh` (rsync) | Automated build + upload |

## Configuration

| File | Purpose |
|------|---------|
| `vite.config.ts` | Vite build configuration |
| `tsconfig.json` | TypeScript compiler options (app) |
| `tsconfig.node.json` | TypeScript compiler options (build scripts) |
| `.eslintrc` | Linting rules (if exists) |
| `package.json` | Dependencies and scripts |

## Build Configuration

### Vite Settings
- **Entry**: `index.html`
- **Output**: `dist/`
- **Plugin**: React Fast Refresh
- **Dev Server**: Port 5173 (default)

### TypeScript Settings
- **Target**: ES2020
- **Module**: ESNext
- **JSX**: react-jsx
- **Strict Mode**: Enabled

## Asset Pipeline

| Asset Type | Location | Processing |
|------------|----------|------------|
| Images (PNG) | `public/` | Copied to dist as-is |
| Audio | `public/audio/` | Loaded via Howler at runtime |
| Textures | Generated | Procedural canvas textures in `textureGenerator.ts` |

## Scripts

| Command | Purpose |
|---------|---------|
| `npm run dev` | Start Vite dev server |
| `npm run build` | TypeScript compile + Vite production build |
| `npm run lint` | Run ESLint on TypeScript files |
| `npm run preview` | Preview production build locally |
| `./deploy.sh` | Build and deploy to production server |

## Deployment Pipeline

```
1. npm run build
   ├─ tsc (type check)
   └─ vite build (bundle)
2. rsync dist/ → DigitalOcean Droplet
3. Live at https://dungeonsam.site
```

## Browser Compatibility

**Minimum Requirements**:
- WebGL 2.0 support
- ES2020+ features (async/await, optional chaining)
- Web Audio API
- Canvas 2D API

**Tested Platforms**:
- Chrome/Edge (desktop + mobile)
- Safari (desktop + iPad)
- Firefox (desktop)

## Performance Characteristics

| Metric | Value | Notes |
|--------|-------|-------|
| Bundle Size | ~975 KB (gzipped: ~271 KB) | Single chunk, no code splitting |
| Initial Load | ~1-2s | Depends on network |
| FPS Target | 60 FPS | Achievable on modern devices |
| Memory Usage | ~150-200 MB | Typical for WebGL apps |

## Known Limitations

- **No SSR/SSG**: Pure client-side rendering
- **No PWA**: Not installable, no offline support
- **No Analytics**: No usage tracking
- **No Error Reporting**: No Sentry/Bugsnag integration
- **No CDN**: Assets served from single origin

## Upgrade Opportunities

| Package | Current | Latest (as of Feb 2026) | Priority |
|---------|---------|-------------------------|----------|
| `three` | 0.160.0 | Check npm | Medium |
| `@react-three/fiber` | 8.15.12 | Check npm | Medium |
| `vite` | 5.0.8 | Check npm | Low |
| `typescript` | 5.2.2 | Check npm | Low |

**Note**: Run `npm outdated` for current upgrade recommendations.

## Development Workflow

1. **Local Development**:
   ```bash
   npm run dev
   # → http://localhost:5173
   ```

2. **Type Checking**:
   ```bash
   npm run build  # tsc runs first
   ```

3. **Linting**:
   ```bash
   npm run lint
   ```

4. **Deployment**:
   ```bash
   ./deploy.sh
   # → https://dungeonsam.site
   ```

## Tech Stack Rationale

### Why React Three Fiber?
- Declarative 3D scene management
- React's component model for game entities
- Automatic memory management and cleanup
- Strong TypeScript support

### Why Zustand over Redux?
- Minimal boilerplate (~100 lines for entire store)
- No context providers needed
- Direct store access outside React
- Excellent TypeScript inference

### Why Howler over Web Audio API?
- Cross-browser audio compatibility
- Simple API for game sounds
- Built-in sprite sheets and fading
- Mobile audio unlock handling

### Why Vite over Webpack?
- Instant dev server startup
- Fast HMR (Hot Module Replacement)
- Optimized production builds
- Native ES modules support
